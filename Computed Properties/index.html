<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computed properties</title>
    <script src="./vue.js"></script>
</head>

<body>
    <div id="app">
        <h3>msgReverse:{{ msgReverse }}</h3>
        <h3>msgMethod:{{ msgMethod() }}</h3>
        <h2>{{someComputed}}</h2>
        <h1>{{ name }}</h1>
        <h2>{{ modify }}</h2>
    </div>
    <script>
        const vm = new Vue({
            el: '#app',
            data: {
                msg: 'hi i am eric 1992',
                name: 'when you change the name in console,you can see the msgMethod is excuting  ',
                modifySentence: 'to test the get function and set function in Computed Properties,try to type vm.modify=20 or vm.modify= "xxx"'
            },
            methods: {
                msgMethod() {
                    console.log('msgMethod')
                    return this.msg.split('').reverse().join('***')
                }
            },
            computed: {
                someComputed: function () {

                    return Math.floor(Math.random() * 100)
                },
                msgReverse: function () {
                    console.log('msgReverse')
                    return this.msg.split('').reverse().join('***');
                },
                modify: {
                    get() {
                        console.log('read data');
                        return this.modifySentence
                    },
                    set(newVal) {
                        if (typeof newVal === 'number') {
                            this.modifySentence = `Number:${newVal}`
                        } else {
                            this.modifySentence = `String:${newVal}`
                        }
                    }
                }

            }
        })
    </script>
</body>

</html>